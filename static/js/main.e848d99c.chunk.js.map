{"version":3,"sources":["components/ContactsForm/ContactsForm.js","components/Filter/Filter.js","components/ContactList/ContactList.js","App.js","index.js","components/ContactsForm/ContactsForm.module.css","components/ContactList/ContactList.module.css"],"names":["ContactsForm","state","name","number","handleChange","event","currentTarget","value","setState","handleSubmit","preventDefault","props","onSubmit","this","className","s","form","inputName","type","pattern","title","required","onChange","disabled","formBtn","Component","Filter","ContactList","contacts","onDeleteContact","ContactsList","map","id","ContactsItem","onClick","App","initialContacts","filter","addContact","some","elm","console","log","alert","contact","shortId","generate","changeFilter","getFilteredContacts","normalizedFilter","toLowerCase","includes","deleteContact","contactId","localStorage","getItem","parsedContacts","JSON","parse","prevProps","prevState","setItem","stringify","filteredContacts","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"wjBAiFeA,E,4MA1EbC,MAAQ,CACNC,KAAM,GACNC,OAAQ,I,EAIVC,aAAe,SAAAC,GAAS,MAGEA,EAAMC,cAAtBJ,EAHc,EAGdA,KAAMK,EAHQ,EAGRA,MAEd,EAAKC,SAAL,eACGN,EAAOK,K,EAKZE,aAAe,SAAAJ,GACbA,EAAMK,iBAIN,EAAKC,MAAMC,SAAS,EAAKX,OAGzB,EAAKO,SAAS,CAAEN,KAAM,GAAIC,OAAQ,M,4CAGpC,WACE,OACE,uBAAMS,SAAUC,KAAKJ,aAAcK,UAAWC,IAAEC,KAAhD,UACE,yCAEE,uBACEF,UAAWC,IAAEE,UACbC,KAAK,OACLhB,KAAK,OACLiB,QAAQ,yHACRC,MAAM,kcACNC,UAAQ,EACRd,MAAOM,KAAKZ,MAAMC,KAClBoB,SAAUT,KAAKT,kBAInB,2CAEE,uBACEc,KAAK,MACLhB,KAAK,SACLiB,QAAQ,+FACRC,MAAM,mlBACNC,UAAQ,EACRd,MAAOM,KAAKZ,MAAME,OAClBmB,SAAUT,KAAKT,kBAInB,wBACEc,KAAK,SACLK,UAAWV,KAAKZ,MAAMC,OAASW,KAAKZ,MAAME,OAC1CW,UAAWC,IAAES,QAHf,gC,GA3DmBC,aCWZC,EAbA,SAAC,GAAD,IAAGnB,EAAH,EAAGA,MAAOe,EAAV,EAAUA,SAAV,OACb,0DAEE,uBACA,uBAAOJ,KAAK,OAAOX,MAAOA,EAAOe,SAAUA,Q,gBC6BhCK,EA/BK,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,SAAUC,EAAsB,EAAtBA,gBAC/B,OACE,oBAAIf,UAAWC,IAAEe,aAAjB,SACGF,EAASG,KAAI,gBAAGC,EAAH,EAAGA,GAAI9B,EAAP,EAAOA,KAAMC,EAAb,EAAaA,OAAb,OACZ,qBAAaW,UAAWC,IAAEkB,aAA1B,UACG/B,EADH,KACWC,EACT,wBACEe,KAAK,SACLgB,QAAS,WACPL,EAAgBG,IAHpB,sBAFOA,S,QCoHFG,E,4MA/GblC,MAAQ,CACN2B,SAAUQ,EACVC,OAAQ,I,EAmCVC,WAAa,YAAuB,IAApBpC,EAAmB,EAAnBA,KAAMC,EAAa,EAAbA,OAOpB,GAAI,EAAKF,MAAM2B,SAASW,MAAK,SAAAC,GAAG,OAAIA,EAAItC,OAASA,KAC/CuC,QAAQC,IAAIC,MAAM,GAAD,OAAIzC,EAAJ,iCADnB,CAKA,IAAM0C,EAAU,CACdZ,GAAIa,IAAQC,WACZ5C,OACAC,UAIF,EAAKK,UAAS,gBAAGoB,EAAH,EAAGA,SAAH,MAAmB,CAC/BA,SAAS,CAAEgB,GAAH,mBAAehB,U,EAK3BmB,aAAe,SAAA1C,GACb,EAAKG,SAAS,CACZ6B,OAAQhC,EAAMC,cAAcC,S,EAMhCyC,oBAAsB,WAEpB,IAAMC,EAAmB,EAAKhD,MAAMoC,OAAOa,cAE3C,OAAO,EAAKjD,MAAM2B,SAASS,QAAO,SAAAO,GAAO,OACvCA,EAAQ1C,KAAKgD,cAAcC,SAASF,O,EAKxCG,cAAgB,SAAAC,GACd,EAAK7C,UAAS,kBAAmB,CAC/BoB,SADY,EAAGA,SACIS,QAAO,SAAAO,GAAO,OAAIA,EAAQZ,KAAOqB,U,uDA5ExD,WAIE,IAAMzB,EAAW0B,aAAaC,QAAQ,YAIhCC,EAAiBC,KAAKC,MAAM9B,GAI9B4B,GACF3C,KAAKL,SAAS,CAAEoB,SAAU4B,M,gCAI9B,SAAmBG,EAAWC,GAIxB/C,KAAKZ,MAAM2B,WAAagC,EAAUhC,UAEpC0B,aAAaO,QAAQ,WAAYJ,KAAKK,UAAUjD,KAAKZ,MAAM2B,a,oBAyD/D,WACE,IAAMmC,EAAmBlD,KAAKmC,sBAE9B,OACE,sBAAKlC,UAAU,MAAf,UACE,2CAGA,cAAC,EAAD,CAAcF,SAAUC,KAAKyB,aAE7B,0CAGA,cAAC,EAAD,CAAQ/B,MAAOM,KAAKZ,MAAMoC,OAAQf,SAAUT,KAAKkC,eAGjD,cAAC,EAAD,CACEnB,SAAUmC,EACVlC,gBAAiBhB,KAAKuC,uB,GAzGd3B,a,YCPlBuC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,U,kBCV1BC,EAAOC,QAAU,CAAC,KAAO,2BAA2B,UAAY,gCAAgC,QAAU,gC,kBCA1GD,EAAOC,QAAU,CAAC,aAAe,kCAAkC,aAAe,qC","file":"static/js/main.e848d99c.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './ContactsForm.module.css';\r\n\r\nclass ContactsForm extends Component {\r\n  state = {\r\n    name: '',\r\n    number: '',\r\n  };\r\n\r\n  //ввод данных\r\n  handleChange = event => {\r\n    // console.log(event.currentTarget.value);\r\n\r\n    const { name, value } = event.currentTarget;\r\n\r\n    this.setState({\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  // для отправки (submit) формы\r\n  handleSubmit = event => {\r\n    event.preventDefault();\r\n    // console.log(this.state);\r\n\r\n    //   во время отправки (submit) формы обращаемся к prop onSubmit={this.addContact} для передачи данных из  state (name, number) в App\r\n    this.props.onSubmit(this.state);\r\n\r\n    // вызов reset для очистки  данных формы,\r\n    this.setState({ name: '', number: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form onSubmit={this.handleSubmit} className={s.form}>\r\n        <label>\r\n          Name\r\n          <input\r\n            className={s.inputName}\r\n            type=\"text\"\r\n            name=\"name\"\r\n            pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\r\n            title=\"Имя может состоять только из букв, апострофа, тире и пробелов. Например Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan и т. п.\"\r\n            required\r\n            value={this.state.name}\r\n            onChange={this.handleChange}\r\n          />\r\n        </label>\r\n\r\n        <label>\r\n          Number\r\n          <input\r\n            type=\"tel\"\r\n            name=\"number\"\r\n            pattern=\"(\\+?( |-|\\.)?\\d{1,2}( |-|\\.)?)?(\\(?\\d{3}\\)?|\\d{3})( |-|\\.)?(\\d{3}( |-|\\.)?\\d{4})\"\r\n            title=\"Номер телефона должен состоять из 11-12 цифр и может содержать цифры, пробелы, тире, пузатые скобки и может начинаться с +\"\r\n            required\r\n            value={this.state.number}\r\n            onChange={this.handleChange}\r\n          />\r\n        </label>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          disabled={!this.state.name || !this.state.number}\r\n          className={s.formBtn}\r\n        >\r\n          Add Contact\r\n        </button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nContactsForm.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ContactsForm;\r\n","import React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Filter = ({ value, onChange }) => (\r\n  <label>\r\n    Find contacts by name\r\n    <br />\r\n    <input type=\"text\" value={value} onChange={onChange} />\r\n  </label>\r\n);\r\n\r\nFilter.propTypes = {\r\n  value: PropTypes.string.isRequired,\r\n  onChange: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Filter;\r\n","import React from 'react';\r\n\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from './ContactList.module.css';\r\n\r\nconst ContactList = ({ contacts, onDeleteContact }) => {\r\n  return (\r\n    <ul className={s.ContactsList}>\r\n      {contacts.map(({ id, name, number }) => (\r\n        <li key={id} className={s.ContactsItem}>\r\n          {name}: {number}\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => {\r\n              onDeleteContact(id);\r\n            }}\r\n          >\r\n            Delete\r\n          </button>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nContactList.propTypes = {\r\n  contacts: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.string.isRequired,\r\n      name: PropTypes.string.isRequired,\r\n      number: PropTypes.string.isRequired,\r\n    }),\r\n  ),\r\n  onDeleteContact: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ContactList;\r\n","import React, { Component } from 'react';\n\nimport shortId from 'shortid'; //npm для создания уникальных ID\n\n// Components\nimport ContactsForm from './components/ContactsForm';\n\nimport Filter from './components/Filter';\n\nimport ContactList from './components/ContactList';\n\n// Data\nimport initialContacts from './components/ContactList/initialContacts.json'; //data for ContactList\n\nclass App extends Component {\n  state = {\n    contacts: initialContacts,\n    filter: '',\n  };\n\n  // LOCAL STORAGE И ЖИЗНЕННЫЕ ЦИКЛЫ\n  componentDidMount() {\n    // console.log('Mount component');\n\n    // записываем contacts как ключ в local Storage\n    const contacts = localStorage.getItem('contacts');\n    // console.log(contacts);\n\n    // преобразуем в формат JSON\n    const parsedContacts = JSON.parse(contacts);\n    // console.log(parsedContacts);\n\n    //сохраняем в localStorage новые contacts поверх предыдущих и проверяем на null. если есть contacts, т.е. массив не пустой, то пишем их в  localStorage\n    if (parsedContacts) {\n      this.setState({ contacts: parsedContacts });\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    // console.log('Update component');\n\n    //обязательно сравниваем предыдущее значение contacts c текущим, если неравно, то обновляем все contacts. Это делается, чтобы не зациклить компонент\n    if (this.state.contacts !== prevState.contacts) {\n      // при каждом обновлении contacts массив contacts, приводим к строке и полностью перезаписываем contacts  в local Storage\n      localStorage.setItem('contacts', JSON.stringify(this.state.contacts));\n    }\n  }\n\n  // МЕТОДЫ\n  // чтобы при отравке (submit) формы получить доступ к state из ContactForm.js. Это можно сделать через props. В параметрах деструктуризуруем ключи name,number из state\n\n  // во время submit ContactForm нужно получить из нее данные, чтобы добавить  еще один contacts с ее данными. Передаем этом метод с помощью prop для ContactsForm\n  addContact = ({ name, number }) => {\n    // console.log(name);\n    // console.log(number);\n\n    //проверка на возможность добавлять контакты, имена которых уже есть в телефонной книге. При попытке выполнить такое действие выводим alert с предупреждением.\n    // console.log(this.state.contacts.id);\n    // console.log(name);\n    if (this.state.contacts.some(elm => elm.name === name)) {\n      console.log(alert(`${name} is already in contacts`));\n      return;\n    }\n    // создаем contact, и добавляем его в state\n    const contact = {\n      id: shortId.generate(), //присваиваем уникальный ID\n      name,\n      number,\n    };\n\n    // для обновления state, когда мы хотим в него что-либо добавить, сначала делаем новый массив, в который распыляем старый, и добавляем новый элемент в начало или конец массива [...старый[], элемент]\n    this.setState(({ contacts }) => ({\n      contacts: [contact, ...contacts],\n    }));\n  };\n\n  // для фильтрации. для передачи данныx при onChange\n  changeFilter = event => {\n    this.setState({\n      filter: event.currentTarget.value,\n    });\n  };\n\n  // вычисляемые свойства для фильтрации. Отфильтровываем те contacts, которые includes то, что мы записали в input Фильтр по имени и в ContactList рендерим не все <ContactList\n  //   contacts={contacts}, а только отфильтрованые, т.е.  contacts={filteredContacts}/>\n  getFilteredContacts = () => {\n    // для чистоты кода выведем this.state.filter.toLowerCase() в отдельную переменную\n    const normalizedFilter = this.state.filter.toLowerCase();\n\n    return this.state.contacts.filter(contact =>\n      contact.name.toLowerCase().includes(normalizedFilter),\n    );\n  };\n\n  // для удаления элемента в ContactList при onClick на кнопку. Обращаемся к id элемента.\n  deleteContact = contactId => {\n    this.setState(({ contacts }) => ({\n      contacts: contacts.filter(contact => contact.id !== contactId), //берем предыдущий contacts и отфильтровываем все элементы, кроме того у которого id совпадает\n    }));\n  };\n\n  render() {\n    const filteredContacts = this.getFilteredContacts();\n\n    return (\n      <div className=\"App\">\n        <h1>Phonebook</h1>\n\n        {/* ContactsForm чтобы при отравке (submit) формы получить доступ к state из Form.js добавляем prop onSubmit методом для этого */}\n        <ContactsForm onSubmit={this.addContact} />\n\n        <h2>Contacts</h2>\n\n        {/* Filter */}\n        <Filter value={this.state.filter} onChange={this.changeFilter} />\n\n        {/* ContactList */}\n        <ContactList\n          contacts={filteredContacts}\n          onDeleteContact={this.deleteContact}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.css';\nimport 'modern-normalize/modern-normalize.css'; //подключение стилей для normalize\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ContactsForm_form__27mUT\",\"inputName\":\"ContactsForm_inputName__3Gwkr\",\"formBtn\":\"ContactsForm_formBtn__3rIyO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ContactsList\":\"ContactList_ContactsList__13ByP\",\"ContactsItem\":\"ContactList_ContactsItem__3Y3GF\"};"],"sourceRoot":""}